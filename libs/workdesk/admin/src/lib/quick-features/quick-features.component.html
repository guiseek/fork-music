<ng-container *ngIf="(cards | async) as cds">
  <div class="card">
    <div class="card-preview">
      <div class="fuse-card">
        <div class="p-16" fxLayout="row" fxLayoutAlign="space-between center">
          <div class="h1 pr-16">Top campaigns</div>

          <div>
            <button mat-icon-button (click)="add(cds[2].dialog)">
              <mat-icon>add</mat-icon>
            </button>
            <button
              mat-icon-button
              [matMenuTriggerFor]="card20Menu"
              aria-label="more"
            >
              <mat-icon>more_vert</mat-icon>
            </button>

            <mat-menu #card20Menu="matMenu">
              <button fxLayout="row" fxLayoutAlign="start center" mat-menu-item>
                <mat-icon color="accent">check_box</mat-icon>
                <span>Show Clicks</span>
              </button>
              <button fxLayout="row" fxLayoutAlign="start center" mat-menu-item>
                <mat-icon color="accent">check_box</mat-icon>
                <span>Show Conversion</span>
              </button>
              <button fxLayout="row" fxLayoutAlign="start center" mat-menu-item>
                <mat-icon>check_box_outline_blank</mat-icon>
                <span>Show CPC</span>
              </button>
            </mat-menu>
          </div>
        </div>

        <suite-dynamic-form [fields]="cds[2].form" (submit)="onSubmit(cds[2].table.endpoint, $event)"></suite-dynamic-form>
        <!-- <pre>{{ cds[2].table | json }}</pre> -->
        <suite-table-backend
          class="clickable"
          [endpoint]="cds[2].table.endpoint"
          [columns]="cds[2].table.columns"
        ></suite-table-backend>
        <!-- <table class="simple clickable">
          <thead>
            <tr>
              <th></th>
              <th class="text-right">Clicks</th>
              <th class="text-right">Conv</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Holiday Travel</td>
              <td class="text-right">3621</td>
              <td class="text-right">90</td>
            </tr>
            <tr>
              <td>Get Away Deals</td>
              <td class="text-right">703</td>
              <td class="text-right">7</td>
            </tr>
            <tr>
              <td>Airfare</td>
              <td class="text-right">532</td>
              <td class="text-right">0</td>
            </tr>
            <tr>
              <td>Vacation</td>
              <td class="text-right">201</td>
              <td class="text-right">8</td>
            </tr>
            <tr>
              <td>Hotels</td>
              <td class="text-right">94</td>
              <td class="text-right">4</td>
            </tr>
          </tbody>
        </table> -->

        <div class="card-divider full-width"></div>

        <div class="p-8 pt-16" fxLayout="row" fxLayoutAlign="start center">
          <button mat-button color="accent">GO TO CAMPAIGNS</button>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<mat-grid-list cols="2" rowHeight="350px">
  <mat-grid-tile
    *ngFor="let card of (cards | async)"
    [colspan]="card.cols"
    [rowspan]="card.rows"
  >
    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-card-title>
          {{ card.title }}
          <button
            mat-icon-button
            class="more-button"
            [matMenuTriggerFor]="menu"
            aria-label="Toggle menu"
          >
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu" xPosition="before">
            <button mat-menu-item>Expand</button>
            <button mat-menu-item>Remove</button>
          </mat-menu>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="dashboard-card-content">
        <!-- <div>Card Content Here</div>
        <pre>{{ card.form | json }}</pre> -->
        <ng-container *ngIf="card.form">
          <suite-dynamic-form [fields]="card.form"></suite-dynamic-form>
        </ng-container>
        <!-- <suite-dynamic-form [fields]="card.form"></suite-dynamic-form> -->
      </mat-card-content>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>
